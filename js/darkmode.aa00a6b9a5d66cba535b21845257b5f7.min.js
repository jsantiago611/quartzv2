const userPref=window.matchMedia('(prefers-color-scheme: light)').matches?'light':'dark',currentTheme=localStorage.getItem('theme')??userPref;currentTheme&&document.documentElement.setAttribute('saved-theme',currentTheme);const switchTheme=a=>{a.target.checked?(document.documentElement.setAttribute('saved-theme','dark'),localStorage.setItem('theme','dark')):(document.documentElement.setAttribute('saved-theme','light'),localStorage.setItem('theme','light'))};window.addEventListener('DOMContentLoaded',()=>{const a=document.querySelector('#darkmode-toggle');if(a.addEventListener('change',switchTheme,!1),currentTheme==='dark'){a.checked=!0;function b(){const a=Array.from(document.querySelectorAll("h1.flicker"));if(!a.length)return!1;const b=(d,e=1)=>{const a=d.split(""),f=[" ","-",",",";",":","(",")"],b=[];let c=0;while(c<e){const d=Math.floor(Math.random()*a.length),e=a[d];!b.includes(d)&&!f.includes(e)&&(a[d]=`<span class="h1.flicker">${e}</span>`,b.push(d),c++)}return a.join("")};a.forEach(a=>{const c=a.textContent.trim(),d=a.dataset.flickerChars?parseInt(a.dataset.flickerChars):void 0;a.innerHTML=b(c,d)})}}})